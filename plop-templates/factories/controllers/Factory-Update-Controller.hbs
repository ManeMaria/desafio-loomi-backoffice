import { Controller } from '@/presentation/http/protocols';
import { Update{{name}}Controller } from '@/presentation/http/controllers/{{lowerCase name}}';

import { makeUpdate{{name}}InDatabaseUsecase } from '@/main/factories/services/{{lowerCase name}}';
import { makeLogControllerDecorator } from '@/main/factories/controllers';
import { makeUpdate{{name}}Validation } from '@/main/factories/validation/{{lowerCase name}}';

export const makeUpdate{{name}}Controller = (): Controller => {
  const update{{name}}Usecase = makeUpdate{{name}}InDatabaseUsecase();

  const validation = makeUpdate{{name}}Validation();

  const update{{name}}Controller = new Update{{name}}Controller(
    validation,
    update{{name}}Usecase
  );

  const update{{name}}ControllerWithLogDecorator =
    makeLogControllerDecorator(update{{name}}Controller);

  return update{{name}}ControllerWithLogDecorator;
};
